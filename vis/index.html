<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>MinnPost</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link type="text/css" rel="stylesheet" media="all" href="http://www.minnpost.com/sites/default/files/css/css_bb801627df93671ec2cf2a1c9ecf4ad2.css" />
		<link type="text/css" rel="stylesheet" media="screen" href="http://www.minnpost.com/sites/default/files/css/css_b833827e9fdb99e83e393d38c32a71fd.css" />
		<link type="text/css" rel="stylesheet" media="print" href="http://www.minnpost.com/sites/default/files/css/css_dd48b5b093a35515052acfc42613d628.css" />
		<!--[if IE]>
				<link rel="stylesheet" href="http://www.minnpost.com/sites/default/themes/derma/inc/css/ie.css?j" type="text/css">
		<![endif]-->
		<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
</head>
<body class="front logged-in page-home one-sidebar sidebar-right admin-nw admin-vertical admin-df  one-sidebar sidebar-right">

<h1 style="text-align: center;">Interactive: Bills passed in 2011-2012 session</h1>

<!-- Embed Start -->
<style type="text/css">
/**
 * Layout
 */
#minnpost-legislature-wrapper {
  margin: auto;
  width: 975px;
} 
#bill-category-container {
  width: 100%;
}
#bills-list-container {
  width: 20%;
  float: left;
}
#bill-detail-container {
  width: 80%;
  float: left;
}


/**
 * Bills
 */
.bill-votes div {
	font-size: 2em;
	line-height: 1.5em;
}
.bill-id {
  margin-bottom: 1em;
}
.bill-house,
.bill-senate {
  width: 50%;
  float: left;
}
</style>

<div id="minnpost-legislature-wrapper" class="content node-field-body">

	<div id="overview" class="vis-section">
		<div id="overview-chart"></div>
	</div>
	
	<div id="bubble-chooser" class="vis-section">
		<div id="bubble-chart"></div>
	</div>
	
	<div id="category-details">
  	<div id="bill-category-container"></div>
  	<div id="bills-list-container"></div>
  	<div id="bill-detail-container"></div>
	</div>

</div>
	
<!-- Templates to be used in client side processing. -->

<!-- Template for bill list -->
<script id="template-bill-list" type="text/template">
  <h4>Bills</h4>
  <ul>
    <% _.each( bills, function( b ) { %>
      <li><a data-id="<%= b.cid %>" class="show-bill" href="#show-bill"><%= b.get('bill') %></a></li>
    <% }); %>
  </ul>
</script>

<!-- Template for bill details -->
<script id="template-bill" type="text/template">
  <h4 class="bill-title"><%= bill.get('title') %></h4>
  <div class="bill-id"><a href="<%= bill.get('billurl') %>"><%= bill.get('bill') %></a></div>
  <div class="bill-timeline"></div>
  <div class="bill-description"></div>
  
  <div class="bill-house">
    <h5>House</h5>
  	<% if (typeof bill.get('house_ayes') != 'undefined') { %>
    	<div class="bill-house-votes bill-votes">
    	  <h6>House Votes</h6>
    	  <div><%= bill.get('house_ayes') %>-<%= bill.get('house_nays') %></div>
    	</div>
  	<% } %>
  	
  	<div class="bill-house-sponsors">
  	  <h6>House Sponsors</h6>
  		<ul>
        <% _.each( bill.get('house_sponsors'), function( s ) { %>
  			  <li><a href="<%= s[3] %>"><%= s[0] %></a></li>
        <% }); %>
  		</ul>
  	</div>
  </div>

  <div class="bill-senate">
    <h5>Senate</h5>
  	<% if (typeof bill.get('senate_ayes') != 'undefined') { %>
  	  <div class="bill-senate-votes bill-votes">
  	    <h6>Senate Votes</h6>
  	    <div><%= bill.get('senate_ayes') %>-<%= bill.get('senate_nays') %></div>
  	  </div>
  	<% } %>
  	
    <div class="bill-senate-sponsors">
  	  <h6>Senate Sponsors</h6>
  		<ul>
        <% _.each( bill.get('senate_sponsors'), function( s ) { %>
  			  <li><a href="<%= s[3] %>"><%= s[0] %></a></li>
        <% }); %>
  		</ul>
  	</div>
  </div>
</script>

<!-- Template for category -->
<script id="template-category" type="text/template">
  <h3><%= category %></h3>
</script>
<!-- End templates -->


<!-- Check for jQuery as it is included in MinnPost site. -->
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/jquery-1.5.2.min.js"><\/script>')</script>
<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/raphael-2.1.0/raphael-min.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/underscore-1.3.3/underscore-min.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/backbone-0.9.2/backbone-min.js"></script>


<script type="text/javascript" src="js/interface-bills.js"></script>
<script type="text/javascript" src="js/vis-raphael.js"></script>

<!-- Embed End -->

</body>
</html>
